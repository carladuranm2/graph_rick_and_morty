{"ast":null,"code":"import _regeneratorRuntime from\"/Users/carladuran/Documents/projects/React/carla/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/carladuran/Documents/projects/React/carla/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/carladuran/Documents/projects/React/carla/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/carladuran/Documents/projects/React/carla/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Navbar from\"../../../../shared/components/navbar\";import Content from\"../components/content\";import{DetailCharacter}from\"../components/content/styled\";import CardInfo from\"../components/cardInfo\";import CharacterInfoItem from\"../components/characterInfoItem\";import MyButton from\"../components/Button\";import{WrapperButtonGenerate}from\"../components/Button/styled\";import{useQuery,useLazyQuery}from\"@apollo/client\";import moment from'moment';import{getRandomNumber}from\"../../../../shared/utils\";import{GET_TOTAL_CHARACTER}from\"../../models/getTotalCharacters\";import{GET_CHARACTER}from\"../../models/getCharacter\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){var _Object$keys,_Object$keys2,_currentCharacter$ori,_currentCharacter$loc,_Object$keys3;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),currentCharacter=_useState2[0],setCurrenCharacter=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),historyCharacters=_useState4[0],setHistoryCharacters=_useState4[1];var _useQuery=useQuery(GET_TOTAL_CHARACTER),count=_useQuery.data;var _useLazyQuery=useLazyQuery(GET_CHARACTER),_useLazyQuery2=_slicedToArray(_useLazyQuery,1),geCharacter=_useLazyQuery2[0];function generateNewCharacter(){return _generateNewCharacter.apply(this,arguments);}function _generateNewCharacter(){_generateNewCharacter=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var randomId,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:randomId=getRandomNumber(count.characters.info.count);_context.next=3;return geCharacter({variables:{id:randomId}});case 3:res=_context.sent;setHistoryCharacters([].concat(_toConsumableArray(historyCharacters),[res.data.character]));setCurrenCharacter(res.data.character);case 6:case\"end\":return _context.stop();}}},_callee);}));return _generateNewCharacter.apply(this,arguments);}function handleSelectCurrentCharacter(character){window.scrollTo(0,0);setCurrenCharacter(character);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Content,{children:[((_Object$keys=Object.keys(currentCharacter))===null||_Object$keys===void 0?void 0:_Object$keys.length)<=0&&/*#__PURE__*/_jsx(\"h1\",{children:\"No se ha cargado ning\\xFAn personaje\"}),((_Object$keys2=Object.keys(currentCharacter))===null||_Object$keys2===void 0?void 0:_Object$keys2.length)>0&&/*#__PURE__*/_jsxs(DetailCharacter,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{style:{width:\"100%\"},alt:\"bu\",src:currentCharacter===null||currentCharacter===void 0?void 0:currentCharacter.image})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(CardInfo,{borderBottom:true,children:[/*#__PURE__*/_jsx(\"h4\",{children:currentCharacter===null||currentCharacter===void 0?void 0:currentCharacter.name}),/*#__PURE__*/_jsxs(\"span\",{children:[\"CHARACTER ID: \",currentCharacter.id]})]}),/*#__PURE__*/_jsxs(CardInfo,{top:true,children:[/*#__PURE__*/_jsx(CharacterInfoItem,{label:\"Status\",value:currentCharacter===null||currentCharacter===void 0?void 0:currentCharacter.status,marginTop:true,borderBottom:true}),/*#__PURE__*/_jsx(CharacterInfoItem,{label:\"Species\",value:currentCharacter===null||currentCharacter===void 0?void 0:currentCharacter.species,marginTop:true,borderBottom:true}),/*#__PURE__*/_jsx(CharacterInfoItem,{label:\"Type\",value:currentCharacter===null||currentCharacter===void 0?void 0:currentCharacter.type,marginTop:true,borderBottom:true}),/*#__PURE__*/_jsx(CharacterInfoItem,{label:\"Gender\",value:currentCharacter===null||currentCharacter===void 0?void 0:currentCharacter.gender,marginTop:true,borderBottom:true}),/*#__PURE__*/_jsx(CharacterInfoItem,{label:\"Origin\",value:currentCharacter===null||currentCharacter===void 0?void 0:(_currentCharacter$ori=currentCharacter.origin)===null||_currentCharacter$ori===void 0?void 0:_currentCharacter$ori.name,marginTop:true,borderBottom:true}),/*#__PURE__*/_jsx(CharacterInfoItem,{label:\"Location\",value:currentCharacter===null||currentCharacter===void 0?void 0:(_currentCharacter$loc=currentCharacter.location)===null||_currentCharacter$loc===void 0?void 0:_currentCharacter$loc.name,marginTop:true,borderBottom:true}),/*#__PURE__*/_jsx(CharacterInfoItem,{label:\"Created at\",value:moment(currentCharacter===null||currentCharacter===void 0?void 0:currentCharacter.created).format(\"ddd MMMM DD YYYY\"),marginTop:true})]})]})]}),/*#__PURE__*/_jsx(WrapperButtonGenerate,{marginTop:true,children:/*#__PURE__*/_jsx(MyButton,{onClick:generateNewCharacter,marginTop:true,mode:\"gradient\",children:\"Generate\"})}),((_Object$keys3=Object.keys(currentCharacter))===null||_Object$keys3===void 0?void 0:_Object$keys3.length)>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:20},children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\",marginBottom:20},children:\"History\"}),historyCharacters.length>0&&historyCharacters.map(function(character,index){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",marginBottom:10},children:[/*#__PURE__*/_jsx(\"img\",{style:{width:100,height:100},alt:\"bu\",src:character===null||character===void 0?void 0:character.image}),/*#__PURE__*/_jsx(CardInfo,{width:true,children:/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:\".9rem\"},children:[/*#__PURE__*/_jsx(\"h4\",{children:character.name}),/*#__PURE__*/_jsx(WrapperButtonGenerate,{children:/*#__PURE__*/_jsx(MyButton,{onClick:function onClick(){return handleSelectCurrentCharacter(character);},children:\"View\"})})]})})]},\"characterHistoryElement--\".concat(index));})]})]})]});}","map":{"version":3,"names":["React","useState","Navbar","Content","DetailCharacter","CardInfo","CharacterInfoItem","MyButton","WrapperButtonGenerate","useQuery","useLazyQuery","moment","getRandomNumber","GET_TOTAL_CHARACTER","GET_CHARACTER","Home","currentCharacter","setCurrenCharacter","historyCharacters","setHistoryCharacters","count","data","geCharacter","generateNewCharacter","randomId","characters","info","variables","id","res","character","handleSelectCurrentCharacter","window","scrollTo","Object","keys","length","width","image","name","status","species","type","gender","origin","location","created","format","marginTop","textAlign","marginBottom","map","index","display","alignItems","height","justifyContent"],"sources":["/Users/carladuran/Documents/projects/React/carla/src/module/home/infrastructure/ui/index.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Navbar from \"../../../../shared/components/navbar\";\nimport Content from \"../components/content\";\nimport { DetailCharacter } from \"../components/content/styled\";\nimport CardInfo from \"../components/cardInfo\";\nimport CharacterInfoItem from \"../components/characterInfoItem\";\nimport MyButton from \"../components/Button\";\nimport { WrapperButtonGenerate } from \"../components/Button/styled\";\n\nimport { useQuery, useLazyQuery } from \"@apollo/client\";\nimport moment from 'moment'\nimport {getRandomNumber} from \"../../../../shared/utils\";\nimport {GET_TOTAL_CHARACTER} from \"../../models/getTotalCharacters\";\nimport {GET_CHARACTER} from \"../../models/getCharacter\";\n\nexport default function Home() {\n    const [currentCharacter, setCurrenCharacter] = useState({});\n    const [historyCharacters, setHistoryCharacters] = useState([]);\n\n    const { data: count } = useQuery(GET_TOTAL_CHARACTER);\n    const [geCharacter] = useLazyQuery(GET_CHARACTER);\n\n    async function generateNewCharacter() {\n        const randomId = getRandomNumber(count.characters.info.count)\n        const res = await geCharacter({ variables: { id: randomId } })\n        setHistoryCharacters([...historyCharacters, res.data.character])\n        setCurrenCharacter(res.data.character)\n    }\n\n    function handleSelectCurrentCharacter(character) {\n        window.scrollTo(0, 0)\n        setCurrenCharacter(character);\n    }\n\n    return (\n        <div>\n            <Navbar />\n\n            <Content>\n                {Object.keys(currentCharacter)?.length <= 0 && (\n                    <h1>No se ha cargado ning√∫n personaje</h1>\n                )}\n                {Object.keys(currentCharacter)?.length > 0 && (\n                    <DetailCharacter>\n                        <div>\n                            <img\n                                style={{ width: \"100%\" }}\n                                alt=\"bu\"\n                                src={currentCharacter?.image}\n                            />\n                        </div>\n                        <div>\n                            <CardInfo borderBottom>\n                                <h4>{currentCharacter?.name}</h4>\n                                <span>CHARACTER ID: {currentCharacter.id}</span>\n                            </CardInfo>\n                            <CardInfo top>\n                                <CharacterInfoItem\n                                    label=\"Status\"\n                                    value={currentCharacter?.status}\n                                    marginTop\n                                    borderBottom\n                                />\n                                <CharacterInfoItem\n                                    label=\"Species\"\n                                    value={currentCharacter?.species}\n                                    marginTop\n                                    borderBottom\n                                />\n                                <CharacterInfoItem\n                                    label=\"Type\"\n                                    value={currentCharacter?.type}\n                                    marginTop\n                                    borderBottom\n                                />\n                                <CharacterInfoItem\n                                    label=\"Gender\"\n                                    value={currentCharacter?.gender}\n                                    marginTop\n                                    borderBottom\n                                />\n                                <CharacterInfoItem\n                                    label=\"Origin\"\n                                    value={currentCharacter?.origin?.name}\n                                    marginTop\n                                    borderBottom\n                                />\n                                <CharacterInfoItem\n                                    label=\"Location\"\n                                    value={currentCharacter?.location?.name}\n                                    marginTop\n                                    borderBottom\n                                />\n                                <CharacterInfoItem\n                                    label=\"Created at\"\n                                    value={moment(currentCharacter?.created).format(\"ddd MMMM DD YYYY\")}\n                                    marginTop\n                                />\n                            </CardInfo>\n                        </div>\n                    </DetailCharacter>\n                )}\n                <WrapperButtonGenerate  marginTop>\n                    <MyButton onClick={generateNewCharacter} marginTop mode=\"gradient\">Generate</MyButton>\n                </WrapperButtonGenerate>\n\n                {Object.keys(currentCharacter)?.length > 0 && (\n                    <div style={{ marginTop: 20 }}>\n                        <h2 style={{ textAlign: \"center\", marginBottom: 20 }}>History</h2>\n                        {historyCharacters.length > 0 &&\n                            historyCharacters.map((character, index) => (\n                                <div\n                                    style={{ display: \"flex\", alignItems: \"center\", marginBottom: 10 }}\n                                    key={`characterHistoryElement--${index}`}\n                                >\n                                    <img style={{ width: 100, height: 100 }} alt=\"bu\" src={character?.image} />\n                                    <CardInfo width>\n                                        <div\n                                            style={{\n                                                display: \"flex\",\n                                                justifyContent: \"space-between\",\n                                                alignItems: \"center\",\n                                                marginBottom: \".9rem\",\n                                            }}\n                                        >\n                                            <h4>{character.name}</h4>\n                                            <WrapperButtonGenerate>\n                                                <MyButton onClick={() => handleSelectCurrentCharacter(character)}>View</MyButton>\n                                            </WrapperButtonGenerate>\n                                        </div>\n                                    </CardInfo>\n                                </div>\n                            ))}\n                    </div>\n                )}\n            </Content>\n        </div>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}